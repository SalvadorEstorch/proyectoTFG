<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{master.html}">
<head>
<meta charset="utf-8">
<title th:inline="text">Usuarios</title>
</head>
<body>

	<div layout:fragment="content">
		<h2>Usuarios</h2>
		<div th:if="${errorMessage}" class="error-message">
			<p>
				<span style="color: red; font-weight: bold;"
					th:text="${errorMessage}"></span>
			</p>
		</div>
		<table class="table table-hover">
			<thead>
				<tr>
					<th>Nombre</th>
					<th>Apellido</th>
					<th>Correo</th>
					<th>Fecha</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="usuario : ${usuarios}" th:object="${usuario}">
					<td th:text="*{nombre}" class="fs-5 fw-bold"></td>
					<td th:text="*{apellido}"></td>
					<td th:text="*{email}"></td>
					<td th:text="*{fechaRegistro}"></td>
					<td class="text-end">
						<!-- 						<div class="btn"> --> <!-- 							<a th:href="@{/admin/eventos/{id}/desactivar(id=*{idEvento})}" -->
						<!-- 								th:if="${evento.activo == 1}" class="btn btn-outline-danger">Desactivar</a> -->

						<!-- 							<a th:href="@{/admin/eventos/{id}/activar(id=*{idEvento})}" -->
						<!-- 								th:if="${evento.activo == 0}" class="btn btn-success">Activar</a> -->
						<!-- 						</div> --> <!-- 						<div class="btn"> --> <!-- 							<a th:href="@{/admin/eventos/{id}/editar(id=*{idEvento})}" -->
						<!-- 								class="btn btn-primary">Editar</a> --> <!-- 						</div> -->
						<div class="btn">
							<a href="javascript:void(0)" class="btn btn-danger"
								th:onclick="'eliminarUsuario(' + *{id} +')'">Eliminar</a>
							<form th:id="'eliminarUsuarioForm' + *{id}"
								th:action="@{/usuarios/{id}/eliminar(id=*{id})}" method="post"
								class="d-none"></form>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
		<div class="row mt-5" th:with="page=${usuarios}">
			<div class="col-sm-6">
				<div sd:pagination-sumary></div>
				<div class="col-sm-6">
					<nav>
						<ul class="pagination" sd:pagination="full"></ul>
					</nav>
				</div>
			</div>
		</div>
	</div>
	<div layout:fragment="scripts">
		<script>
			function eliminarUsuario(id) {
				if (!confirm('¿Estás seguro de eliminar este usuario?')) {
					return;
				}
				$('#eliminarUsuarioForm' + id).submit();
			}
		</script>
	</div>

</body>

</body>
</html>